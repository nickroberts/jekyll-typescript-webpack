sudo: false
language: ruby
rvm:
- 2.2
cache:
  bundler: true
  directories:
  - "$(npm config get prefix)/bin"
  - node_modules
before_script:
    - nvm install v6.7.0
script: npm run build
deploy:
  - provider: releases
    skip_cleanup: true
    on:
      repo: nickroberts/jekyll-typescript-webpack
      tags: true
  - provider: script
    skip_cleanup: true
    script: npm run deploy
    on:
      branch: master
env:
  global:
    secure: cAOWa6NhpSp7CUv2ZZQMKSTb7dEMsqHQECLJsDdTEQnT4Qd+7e0c8bQmOuTYmbo3rmdCynS0TwazwfHFckqLBX1xMLXVIqOeOFFRQCasQNls+TSz1Yb8J/xumIhSW/Nt4xwKY6SvuavyozHZ2MmgpSNhc42SyekLiQAgzyVePOkw52jXRPpq+KzeydqZvFMVmWfFtQmLEAj4bRfKOkyxTTxMtyW1i1N5+niTthvoDXJhpBxEPqmXwHSTPGK7SrUJCa3mn2+ozWredD6lnBtvOdbKKvbb847aR34U3Gbk8fuWAvHsWj/H44uUB2UXkcgRT0EsC3B0goY7UuK4ltgh7fMQLM59kiZu0gkwyGdXxmxIlYQTdRKV8nR+htgQ8D5ebPs9zR9oOvuYkXl8pYwB2l0f8Yhwm0R+dVGPTclCobwlA1Uitie0QEO7cV/xvQ+xjthinxnB6VTwrr9fdoyQp94uhshsEL3GirUgBHNHcgknr4FZN9Mwqj+BTbWxMjV0BrbiPeEDh/M5mQPrCc8n5n6NU4yxx4gujuSQsjE9c/8YfGMzZhe44sisa/E6RXNu/2QtI0LQDP4WErj/RhBx6SnwKFCKybbyWXjS5F7qxvVwdFe8xQpW3iPQnLZmqr6bPeQ9GyRZwdhMDU7F0b/geZ8yj644VzG6ThuXODuWqBM=
